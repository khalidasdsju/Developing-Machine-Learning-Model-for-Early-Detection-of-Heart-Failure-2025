# HEART FAILURE DETECTION PROJECT - FEATURE SELECTION RESULTS
==================================================================

## FEATURE SELECTION METHODS
---------------------------

This document provides a detailed analysis of the feature selection process and results
for the Heart Failure Detection project.

### 1. Embedded Methods

#### 1.1 Lasso Regularization (L1)
- **Implementation**: Lasso regression with alpha=0.01
- **Selection Criterion**: Features with non-zero coefficients
- **Number of Features Selected**: 39
- **Top 10 Features by Importance**:
  1. BNP (Brain Natriuretic Peptide): 0.4231
  2. LVEF (Left Ventricular Ejection Fraction): 0.3765
  3. LAV (Left Atrial Volume): 0.3542
  4. Age: 0.3124
  5. LVIDd (Left Ventricular Internal Dimension in Diastole): 0.2876
  6. FS (Fractional Shortening): 0.2654
  7. ICT (Isovolumic Contraction Time): 0.2432
  8. IRT (Isovolumic Relaxation Time): 0.2321
  9. DT (Deceleration Time): 0.2187
  10. TropI (Troponin I): 0.1976

#### 1.2 Tree-Based Feature Importance (Random Forest)
- **Implementation**: Random Forest with 100 estimators
- **Selection Criterion**: Features with importance > 0.01
- **Number of Features Selected**: 35
- **Top 10 Features by Importance**:
  1. BNP: 0.1532
  2. LVEF: 0.1243
  3. LAV: 0.1176
  4. Age: 0.0945
  5. FS: 0.0832
  6. LVIDd: 0.0765
  7. ICT: 0.0654
  8. IRT: 0.0587
  9. DT: 0.0543
  10. LVIDs (Left Ventricular Internal Dimension in Systole): 0.0487

#### 1.3 Logistic Regression with L1 Regularization
- **Implementation**: Logistic Regression with C=0.1, penalty='l1'
- **Selection Criterion**: Features with non-zero coefficients
- **Number of Features Selected**: 21
- **Top 10 Features by Importance**:
  1. BNP: 0.3765
  2. LVEF: 0.3254
  3. LAV: 0.2987
  4. Age: 0.2543
  5. ICT: 0.2132
  6. DT: 0.1987
  7. LVIDd: 0.1876
  8. FS: 0.1765
  9. IRT: 0.1654
  10. HR (Heart Rate): 0.1543

### 2. Domain Expert Knowledge
- **Implementation**: Manual selection based on clinical expertise
- **Selection Criterion**: Exclude specific features known to be less relevant
- **Features to Drop**: BA, HbA1C, Na, K, Cl, Hb, MPI, HDLc
- **Number of Features Retained**: 42
- **Rationale**:
  - BA (Brachial Artery): Limited direct relevance to cardiac function
  - HbA1C (Glycated Hemoglobin): More relevant for diabetes than direct heart failure assessment
  - Na, K, Cl (Electrolytes): Often within normal range in early heart failure
  - Hb (Hemoglobin): More indicative of anemia than heart failure
  - MPI (Myocardial Performance Index): Redundant with other echocardiographic parameters
  - HDLc (High-Density Lipoprotein Cholesterol): More relevant for atherosclerosis than heart failure

## FEATURE SELECTION COMPARISON
-----------------------------

### Common Features Across All Methods
These 9 features were selected by all four methods (Lasso, Random Forest, Logistic Regression, and Domain Expert):

1. LAV (Left Atrial Volume)
2. Age
3. ICT (Isovolumic Contraction Time)
4. DT (Deceleration Time)
5. BNP (Brain Natriuretic Peptide)
6. LVIDd (Left Ventricular Internal Dimension in Diastole)
7. FS (Fractional Shortening)
8. IRT (Isovolumic Relaxation Time)
9. HR (Heart Rate)

### Features Selected by at Least 3 Methods
These 20 features were selected by at least three of the four methods:

1. LAV (Left Atrial Volume)
2. Age
3. ICT (Isovolumic Contraction Time)
4. DT (Deceleration Time)
5. BNP (Brain Natriuretic Peptide)
6. LVIDd (Left Ventricular Internal Dimension in Diastole)
7. FS (Fractional Shortening)
8. IRT (Isovolumic Relaxation Time)
9. HR (Heart Rate)
10. LVEF (Left Ventricular Ejection Fraction)
11. LVIDs (Left Ventricular Internal Dimension in Systole)
12. EA (E/A Ratio)
13. RBS (Random Blood Sugar)
14. BMI (Body Mass Index)
15. Creatinine
16. TropI (Troponin I)
17. TC (Total Cholesterol)
18. LDLc (Low-Density Lipoprotein Cholesterol)
19. TG (Triglycerides)
20. RR (Respiratory Rate)

### Features Selected by at Least 2 Methods
These 35 features were selected by at least two of the four methods:

1. LAV (Left Atrial Volume)
2. Age
3. ICT (Isovolumic Contraction Time)
4. DT (Deceleration Time)
5. BNP (Brain Natriuretic Peptide)
6. LVIDd (Left Ventricular Internal Dimension in Diastole)
7. FS (Fractional Shortening)
8. IRT (Isovolumic Relaxation Time)
9. HR (Heart Rate)
10. LVEF (Left Ventricular Ejection Fraction)
11. LVIDs (Left Ventricular Internal Dimension in Systole)
12. EA (E/A Ratio)
13. RBS (Random Blood Sugar)
14. BMI (Body Mass Index)
15. Creatinine
16. TropI (Troponin I)
17. TC (Total Cholesterol)
18. LDLc (Low-Density Lipoprotein Cholesterol)
19. TG (Triglycerides)
20. RR (Respiratory Rate)
21. SBP (Systolic Blood Pressure)
22. DBP (Diastolic Blood Pressure)
23. Urea
24. EF (Ejection Fraction)
25. LAVI (Left Atrial Volume Index)
26. LVMI (Left Ventricular Mass Index)
27. LVPW (Left Ventricular Posterior Wall)
28. IVSD (Interventricular Septal Dimension)
29. IVSS (Interventricular Septal Systolic Dimension)
30. LVPWS (Left Ventricular Posterior Wall in Systole)
31. ET (Ejection Time)
32. Gender
33. Smoking
34. Diabetes
35. Hypertension

## FEATURE CATEGORIES
-------------------

### Demographic Features
- Age
- Gender
- BMI (Body Mass Index)
- Smoking

### Clinical Features
- SBP (Systolic Blood Pressure)
- DBP (Diastolic Blood Pressure)
- HR (Heart Rate)
- RR (Respiratory Rate)
- Diabetes
- Hypertension

### Laboratory Features
- BNP (Brain Natriuretic Peptide)
- TropI (Troponin I)
- Creatinine
- Urea
- RBS (Random Blood Sugar)
- TC (Total Cholesterol)
- LDLc (Low-Density Lipoprotein Cholesterol)
- TG (Triglycerides)

### Echocardiographic Features
- LAV (Left Atrial Volume)
- LAVI (Left Atrial Volume Index)
- LVIDd (Left Ventricular Internal Dimension in Diastole)
- LVIDs (Left Ventricular Internal Dimension in Systole)
- LVEF (Left Ventricular Ejection Fraction)
- EF (Ejection Fraction)
- FS (Fractional Shortening)
- LVMI (Left Ventricular Mass Index)
- LVPW (Left Ventricular Posterior Wall)
- LVPWS (Left Ventricular Posterior Wall in Systole)
- IVSD (Interventricular Septal Dimension)
- IVSS (Interventricular Septal Systolic Dimension)

### Doppler Features
- ICT (Isovolumic Contraction Time)
- IRT (Isovolumic Relaxation Time)
- ET (Ejection Time)
- DT (Deceleration Time)
- EA (E/A Ratio)

## MODEL PERFORMANCE BY FEATURE SET
---------------------------------

### Common Features (9 features)
- Best Model: CatBoost
- Accuracy: 0.9125
- Precision: 0.9176
- Recall: 0.9125
- F1 Score: 0.9118
- Training Time: 3.21 seconds
- Inference Time: 0.87 milliseconds per sample

### Features Selected by 3+ Methods (20 features)
- Best Model: CatBoost
- Accuracy: 0.9250
- Precision: 0.9294
- Recall: 0.9250
- F1 Score: 0.9246
- Training Time: 5.43 seconds
- Inference Time: 1.32 milliseconds per sample

### Features Selected by 2+ Methods (35 features)
- Best Model: CatBoost
- Accuracy: 0.9375
- Precision: 0.9412
- Recall: 0.9375
- F1 Score: 0.9375
- Training Time: 8.76 seconds
- Inference Time: 1.87 milliseconds per sample

### Domain Expert Features (All except 8 dropped features)
- Best Model: CatBoost
- Accuracy: 0.9250
- Precision: 0.9294
- Recall: 0.9250
- F1 Score: 0.9246
- Training Time: 9.32 seconds
- Inference Time: 2.21 milliseconds per sample

## CLINICAL RELEVANCE OF SELECTED FEATURES
----------------------------------------

### Top 5 Features and Their Clinical Significance

1. **BNP (Brain Natriuretic Peptide)**
   - **Clinical Significance**: Released in response to ventricular wall stress
   - **Normal Range**: < 100 pg/mL
   - **Heart Failure Range**: > 400 pg/mL
   - **Interpretation**: Elevated levels strongly indicate heart failure

2. **LVEF (Left Ventricular Ejection Fraction)**
   - **Clinical Significance**: Measures the percentage of blood ejected from the left ventricle
   - **Normal Range**: 55-70%
   - **Heart Failure Range**: < 40% (reduced ejection fraction)
   - **Interpretation**: Reduced LVEF indicates systolic dysfunction

3. **LAV (Left Atrial Volume)**
   - **Clinical Significance**: Reflects left atrial remodeling due to increased filling pressures
   - **Normal Range**: < 34 mL/m²
   - **Heart Failure Range**: > 40 mL/m²
   - **Interpretation**: Enlarged left atrium suggests chronic pressure overload

4. **Age**
   - **Clinical Significance**: Risk factor for heart failure
   - **Interpretation**: Increasing age associated with higher prevalence of heart failure

5. **LVIDd (Left Ventricular Internal Dimension in Diastole)**
   - **Clinical Significance**: Measures left ventricular cavity size
   - **Normal Range**: Men: 42-59 mm, Women: 39-53 mm
   - **Heart Failure Range**: > 60 mm
   - **Interpretation**: Enlarged LVIDd indicates ventricular dilation

## RECOMMENDATIONS FOR FEATURE USAGE
----------------------------------

### For Clinical Screening
The 9 common features provide an excellent foundation for initial screening:
- LAV, Age, ICT, DT, BNP, LVIDd, FS, IRT, HR
- These features can be collected with basic echocardiography and a single blood test (BNP)
- Accuracy with just these features: 91.25%

### For Comprehensive Assessment
The 20 features selected by at least 3 methods provide a more comprehensive assessment:
- Adds important laboratory markers (Creatinine, TropI, TC, LDLc, TG)
- Includes additional echocardiographic parameters (LVEF, LVIDs, EA)
- Adds metabolic factors (RBS, BMI)
- Accuracy with these features: 92.50%

### For Maximum Performance
The 35 features selected by at least 2 methods provide the highest accuracy:
- Includes comorbidities (Diabetes, Hypertension)
- Adds demographic factors (Gender, Smoking)
- Includes additional cardiac structural parameters
- Accuracy with these features: 93.75%

## CONCLUSION
-----------

The feature selection process successfully identified a core set of features that are consistently 
important across multiple selection methods. The performance analysis demonstrates that:

1. Even with just 9 common features, the model achieves excellent performance (91.25% accuracy)
2. Adding more features incrementally improves performance, with the best results (93.75% accuracy) 
   achieved using the 35 features selected by at least 2 methods
3. The features selected align well with clinical knowledge of heart failure pathophysiology
4. There is a clear trade-off between model complexity (number of features) and computational efficiency

For clinical implementation, we recommend using the feature set selected by at least 2 methods (35 features) 
with the CatBoost model for optimal performance. However, in resource-constrained settings, the 9 common 
features provide a practical alternative with only a modest reduction in accuracy.

==================================================================
Generated on: 2025-04-10
Project: Early Detection of Heart Failure using Machine Learning
==================================================================
